install.packages(c("questionr", "foreign", "R2HTML"))
install.packages(c("FactoMineR", "TraMineR", "lmtest"))
install.packages(c("tm", "wordcloud", "topicmodels"))
install.packages("igraph")
install.packages("sna")
install.packages("Matrix")
install.packages("systemfit")
install.packages("AER")
install.packages("plm")
install.packages("pglm")
install.packages("lfe")
install.packages("Factoshiny")
install.packages("Factoshiny")
install.packages("Factoshiny")
install.packages("Factoshiny")
setwd('/home/tenroc/Tele-Repas-Socstat')
enq.final <- read.csv("DATA_BDD-RECONCILIE/enq final_04.csv", fileEncoding = "UTF-8", sep=";")
for(i in 1:nrow(enq.final)){
if(enq.final$E2_re[i] %in% c('1','2','3 ou plus')){
if(enq.final$E2_a_re[i] %in% c('1','2','3 ou plus')){
if(enq.final$E2_b_re[i] %in% c('Souvent', 'Très souvent')){
enq.final$E2_Typologie_utilisateurs[i] <- 'Utilisateur régulier'
} else {
enq.final$E2_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
} else {
enq.final$E2_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
} else {
enq.final$E2_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
}
# Mobile
for(i in 1:nrow(enq.final)){
if(enq.final$E3_re[i] %in% c('1','2','3 ou plus')){
if(enq.final$E3_a_re[i] %in% c('1','2','3 ou plus')){
if(enq.final$E3_b_re[i] %in% c('Souvent', 'Très souvent')){
enq.final$E3_Typologie_utilisateurs[i] <- 'Utilisateur régulier'
} else {
enq.final$E3_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
} else {
enq.final$E3_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
} else {
enq.final$E3_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
}
# Tablette
for(i in 1:nrow(enq.final)){
if(enq.final$E4_re[i] %in% c('1','2','3 ou plus')){
if(enq.final$E4_a_re[i] %in% c('1','2','3 ou plus')){
if(enq.final$E4_b_re[i] %in% c('Souvent', 'Très souvent')){
enq.final$E4_Typologie_utilisateurs[i] <- 'Utilisateur régulier'
} else {
enq.final$E4_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
} else {
enq.final$E4_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
} else {
enq.final$E4_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
}
# Télé
for(i in 1:nrow(enq.final)){
if(enq.final$E5_re[i] %in% c('1','2','3 ou plus')){
if(enq.final$E5_a_re[i] %in% c('1','2','3 ou plus')){
if(enq.final$E5_b_re[i] %in% c('Souvent', 'Très souvent')){
enq.final$E5_Typologie_utilisateurs[i] <- 'Utilisateur régulier'
} else {
enq.final$E5_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
} else {
enq.final$E5_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
} else {
enq.final$E5_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
}
# Console
for(i in 1:nrow(enq.final)){
if(enq.final$E6_re[i] %in% c('1','2','3 ou plus')){
if(enq.final$E6_a_re[i] %in% c('1','2','3 ou plus')){
if(enq.final$E6_b_re[i] %in% c('Souvent', 'Très souvent')){
enq.final$E6_Typologie_utilisateurs[i] <- 'Utilisateur régulier'
} else {
enq.final$E6_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
} else {
enq.final$E6_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
} else {
enq.final$E6_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
}
# Ordinateur portable
for(i in 1:nrow(enq.final)){
if(enq.final$E7_re[i] %in% c('1','2','3 ou plus')){
if(enq.final$E7_a_re[i] %in% c('1','2','3 ou plus')){
if(enq.final$E7_b_re[i] %in% c('Souvent', 'Très souvent')){
enq.final$E7_Typologie_utilisateurs[i] <- 'Utilisateur régulier'
} else {
enq.final$E7_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
} else {
enq.final$E7_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
} else {
enq.final$E7_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
}
# Ordinateur fixe
for(i in 1:nrow(enq.final)){
if(enq.final$E8_re[i] %in% c('1','2','3 ou plus')){
if(enq.final$E8_a_re[i] %in% c('1','2','3 ou plus')){
if(enq.final$E8_b_re[i] %in% c('Souvent', 'Très souvent')){
enq.final$E8_Typologie_utilisateurs[i] <- 'Utilisateur régulier'
} else {
enq.final$E8_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
} else {
enq.final$E8_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
} else {
enq.final$E8_Typologie_utilisateurs[i] <- 'Non utilisateur ou utilisateur occasionel'
}
}
enq.final$D1_tr[enq.final$D1_re < 25] <- "moins de 25 ans"
enq.final$D1_tr[enq.final$D1_re %in% c(25:35)] <- "25-35 ans"
enq.final$D1_tr[enq.final$D1_re %in% c(36:45)] <- "36-45 ans"
enq.final$D1_tr[enq.final$D1_re %in% c(46:55)] <- "46-55 ans"
enq.final$D1_tr[enq.final$D1_re %in% c(56:65)] <- "56-65 ans"
enq.final$D1_tr[enq.final$D1_re > 65] <- "plus de 65 ans"
table(enq.final$D1_tr)
# Diplome simplifié
table(enq.final$D3_re)
enq.final$D3_re2[as.character(enq.final$D3_re) %in% c("Aucun diplôme", "BEPC, brevet", "CAP, BEP","Certificat d’études primaires")] <- "Inférieur au bac"
enq.final$D3_re2[as.character(enq.final$D3_re) == "Baccalauréat, BP"] <- "Bac"
enq.final$D3_re2[as.character(enq.final$D3_re) %in% c("Deug, DUT, BTS, diplômes des professions sociales ou de la santé","Licence, Bac+3","Bac+4 ou plus : Master, maîtrise, DEA, école d'ingénieur, doctorat etc.")] <- "Supérieur au bac"
enq.final$D3_re2[as.character(enq.final$D3_re) == "Refus"] <- NA
table(enq.final$D3_re2)
# Diplome du conjoin simplifié:
table(enq.final$D3_bis_re)
enq.final$D3_re2[as.character(enq.final$D3_bis_re) %in% c("Aucun diplôme", "BEPC, brevet", "CAP, BEP","Certificat d’études primaires")] <- "Inférieur au bac"
enq.final$D3_re2[as.character(enq.final$D3_bis_re) == "Baccalauréat, BP"] <- "Bac"
enq.final$D3_re2[as.character(enq.final$D3_bis_re) %in% c("Deug, DUT, BTS, diplômes des professions sociales ou de la santé","Licence, Bac+3","Bac+4 ou plus : Master, maîtrise, DEA, école d'ingénieur, doctorat etc.")] <- "Supérieur au bac"
enq.final$D3_re2[as.character(enq.final$D3_bis_re) == "Refus"] <- NA
table(enq.final$D3_re2)
# profession
table(enq.final$D4_re)
enq.final$D4_re2[as.character(enq.final$D4_re) %in% c("Etudiant avec emploi", "Etudiant sans emploi")] <- "Etudiant"
enq.final$D4_re2[as.character(enq.final$D4_re) %in% c("Emploi à plein temps", "Emploi à temps partiel")] <- "Emploi"
enq.final$D4_re2[as.character(enq.final$D4_re) == "A la retraite"] <- "retraite"
enq.final$D4_re2[as.character(enq.final$D4_re) == "En recherche d'emploi"] <- "recherche emploi"
enq.final$D4_re2[as.character(enq.final$D4_re) == "Au foyer"] <- "Au foyer"
enq.final$D4_re2[as.character(enq.final$D4_re) == "Autre (voir D4_other_re)"] <- NA
table(enq.final$D4_re2)
# activité du conjoint - utilité?
table(enq.final$D7_re)
enq.final$D7_re2[as.character(enq.final$D7_re) %in% c("Etudiant avec emploi", "Etudiant sans emploi")] <- "étudiants"
enq.final$D7_re2[as.character(enq.final$D7_re) %in% c("Emploi à plein temps", "Emploi à temps partiel")] <- "Emploi"
enq.final$D7_re2[as.character(enq.final$D7_re) == "A la retraite"] <- "retraite"
enq.final$D7_re2[as.character(enq.final$D7_re) == "En recherche d’emploi"] <- "recherche emploi"
enq.final$D7_re2[as.character(enq.final$D7_re) == "Au foyer"] <- "Au foyer"
enq.final$D7_re2[as.character(enq.final$D7_re) == "Autre (voir D4_other_re)"] <- NA
table(enq.final$D7_re2)
table(enq.final$D6_re)
table(enq.final$D6_re)
enq.final$D6_re2[as.character(enq.final$D6_re) == "Vous uniquement"] <- "Seul"
enq.final$D6_re2[as.character(enq.final$D6_re) %in% c("Vous et votre conjoint(e), avec un ou plusieurs enfant(s)", "Vous et un ou plusieurs enfant(s)")] <- "Parent(s) avec enfants"
enq.final$D6_re2[as.character(enq.final$D6_re) %in% c("Autre (voir D6_other_re)","Vos parents et éventuels frères et sœurs","Vous et votre conjoint(e) (sans enfant)")] <- "Autres"
summary(enq.final$D6_re2)
table(enq.final$D7_re2)
table(enq.final$D7_re)
summary(enq.final$D3_re2)
table(enq.final$D3_re2)
summary(enq.final$D1_tr)
table(enq.final$D1_tr)
summary(enq.final$D6_re2)
table(enq.final$D6_re2)
table(enq.final$D6_re)
enq.final$D6_re2[as.character(enq.final$D6_re) == "Vous uniquement"] <- "Seul"
enq.final$D6_re2[as.character(enq.final$D6_re) %in% c("Vous et votre conjoint(e), avec un ou plusieurs enfant(s)", "Vous et un ou plusieurs enfant(s)")] <- "Parent(s) avec enfants"
enq.final$D6_re2[as.character(enq.final$D6_re) %in% c("Autre (voir D6_other_re)","Vos parents et éventuels frères et sœurs")] <- "Autres"
enq.final$D6_re2[as.character(enq.final$D6_re) == "Vous et votre conjoint(e) (sans enfant)"] <- "Couples sans enfants"
summary(enq.final$D6_re2)
table(enq.final$D6_re2)
table(enq.final$D14)
table(enq.final$D13_re
table(enq.final$D13_re)
table(enq.final$D13_re)
table(enq.final$D12_re)
table(enq.final$D12_re)
enq.final$D12_re2 <- enq.final$D12_re
enq.final$D12_re2[as.character(enq.final$D12_re) %in% c("De 0 à 1 100€ /mois  (soit 0 à 14 000 € par an)", "De 1 100 à 1 400€ /mois  (soit 14 000 à 17 000 € par an)")] <- "moins de 1400"
enq.final$D12_re2[as.character(enq.final$D12_re) %in% c("De 1 400 à 1 700€ /mois  (soit 17 000 à 21 000 € par an)", "De 1 700 à 2 000€ /mois  (soit 21 000 à 25 000 € par an)")] <- "1400-2000"
enq.final$D12_re2[as.character(enq.final$D12_re) %in% c("De 2 000 à 2 500€ /mois  (soit 25 000 à 30 000 € par an)", "De 2 500 à 2 900€ /mois  (soit 30 000 à 35 000 € par an)")] <- "2000-2900"
enq.final$D12_re2[as.character(enq.final$D12_re) %in% c("De 2 900 à 3 400€ /mois  (soit 35 000 à 41 000 € par an)", "De 3 400 à 4 100€ /mois  (soit 41 000 à 50 000 € par an)")] <- "2900-4100"
enq.final$D12_re2[as.character(enq.final$D12_re) %in% c("De 4 100 à 5 300€ /mois  (soit 50 000 à 63 000 € par an)", "5 300€ et plus /mois  (soit 63 000 € et plus par an)")] <- "plus de 4100"
summary(enq.final$D12_re2)
table(enq.final$D12_re2)
enq.final$D12_re2 <- as.character(enq.final$D12_re)
enq.final$D12_re2[as.character(enq.final$D12_re) %in% c("De 0 à 1 100€ /mois  (soit 0 à 14 000 € par an)", "De 1 100 à 1 400€ /mois  (soit 14 000 à 17 000 € par an)")] <- "moins de 1400"
enq.final$D12_re2[as.character(enq.final$D12_re) %in% c("De 1 400 à 1 700€ /mois  (soit 17 000 à 21 000 € par an)", "De 1 700 à 2 000€ /mois  (soit 21 000 à 25 000 € par an)")] <- "1400-2000"
enq.final$D12_re2[as.character(enq.final$D12_re) %in% c("De 2 000 à 2 500€ /mois  (soit 25 000 à 30 000 € par an)", "De 2 500 à 2 900€ /mois  (soit 30 000 à 35 000 € par an)")] <- "2000-2900"
enq.final$D12_re2[as.character(enq.final$D12_re) %in% c("De 2 900 à 3 400€ /mois  (soit 35 000 à 41 000 € par an)", "De 3 400 à 4 100€ /mois  (soit 41 000 à 50 000 € par an)")] <- "2900-4100"
enq.final$D12_re2[as.character(enq.final$D12_re) %in% c("De 4 100 à 5 300€ /mois  (soit 50 000 à 63 000 € par an)", "5 300€ et plus /mois  (soit 63 000 € et plus par an)")] <- "plus de 4100"
summary(enq.final$D12_re2)
table(enq.final$D12_re2)
